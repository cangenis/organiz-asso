{"ast":null,"code":"var _jsxFileName = \"/Users/cangenis/projet-web-genis-ozgenc/client/src/state/index.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useReducer, useContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nconst initialState = {\n  user: null,\n  token: null,\n  posts: []\n};\nfunction authReducer(state, action) {\n  switch (action.type) {\n    case \"SET_LOGIN\":\n      return {\n        ...state,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n    case \"SET_LOGOUT\":\n      return {\n        ...state,\n        user: null,\n        token: null\n      };\n    case \"SET_FRIENDS\":\n      if (state.user) {\n        return {\n          ...state,\n          user: {\n            ...state.user,\n            friends: action.payload.friends\n          }\n        };\n      }\n      return state;\n    case \"SET_POSTS\":\n      return {\n        ...state,\n        posts: action.payload.posts\n      };\n    case \"SET_POST\":\n      const updatedPosts = state.posts.map(post => post._id === action.payload.post._id ? action.payload.post : post);\n      return {\n        ...state,\n        posts: updatedPosts\n      };\n    default:\n      return state;\n  }\n}\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(authReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  return useContext(AuthContext);\n};\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useContext","jsxDEV","_jsxDEV","AuthContext","initialState","user","token","posts","authReducer","state","action","type","payload","friends","updatedPosts","map","post","_id","AuthProvider","children","_s","dispatch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","$RefreshReg$"],"sources":["/Users/cangenis/projet-web-genis-ozgenc/client/src/state/index.js"],"sourcesContent":["import React, { createContext, useReducer, useContext } from \"react\";\n\nconst AuthContext = createContext();\n\nconst initialState = {\n  user: null,\n  token: null,\n  posts: [],\n};\n\nfunction authReducer(state, action) {\n  switch (action.type) {\n    case \"SET_LOGIN\":\n      return {\n        ...state,\n        user: action.payload.user,\n        token: action.payload.token,\n      };\n\n    case \"SET_LOGOUT\":\n      return { ...state, user: null, token: null };\n\n    case \"SET_FRIENDS\":\n      if (state.user) {\n        return {\n          ...state,\n          user: { ...state.user, friends: action.payload.friends },\n        };\n      }\n      return state;\n\n    case \"SET_POSTS\":\n      return { ...state, posts: action.payload.posts };\n\n    case \"SET_POST\":\n      const updatedPosts = state.posts.map((post) =>\n        post._id === action.payload.post._id ? action.payload.post : post\n      );\n      return { ...state, posts: updatedPosts };\n\n    default:\n      return state;\n  }\n}\n\nexport const AuthProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, initialState);\n\n  return (\n    <AuthContext.Provider value={{ state, dispatch }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErE,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;AAEnC,MAAMM,YAAY,GAAG;EACnBC,IAAI,EAAE,IAAI;EACVC,KAAK,EAAE,IAAI;EACXC,KAAK,EAAE;AACT,CAAC;AAED,SAASC,WAAWA,CAACC,KAAK,EAAEC,MAAM,EAAE;EAClC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,WAAW;MACd,OAAO;QACL,GAAGF,KAAK;QACRJ,IAAI,EAAEK,MAAM,CAACE,OAAO,CAACP,IAAI;QACzBC,KAAK,EAAEI,MAAM,CAACE,OAAO,CAACN;MACxB,CAAC;IAEH,KAAK,YAAY;MACf,OAAO;QAAE,GAAGG,KAAK;QAAEJ,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC;IAE9C,KAAK,aAAa;MAChB,IAAIG,KAAK,CAACJ,IAAI,EAAE;QACd,OAAO;UACL,GAAGI,KAAK;UACRJ,IAAI,EAAE;YAAE,GAAGI,KAAK,CAACJ,IAAI;YAAEQ,OAAO,EAAEH,MAAM,CAACE,OAAO,CAACC;UAAQ;QACzD,CAAC;MACH;MACA,OAAOJ,KAAK;IAEd,KAAK,WAAW;MACd,OAAO;QAAE,GAAGA,KAAK;QAAEF,KAAK,EAAEG,MAAM,CAACE,OAAO,CAACL;MAAM,CAAC;IAElD,KAAK,UAAU;MACb,MAAMO,YAAY,GAAGL,KAAK,CAACF,KAAK,CAACQ,GAAG,CAAEC,IAAI,IACxCA,IAAI,CAACC,GAAG,KAAKP,MAAM,CAACE,OAAO,CAACI,IAAI,CAACC,GAAG,GAAGP,MAAM,CAACE,OAAO,CAACI,IAAI,GAAGA,IAC/D,CAAC;MACD,OAAO;QAAE,GAAGP,KAAK;QAAEF,KAAK,EAAEO;MAAa,CAAC;IAE1C;MACE,OAAOL,KAAK;EAChB;AACF;AAEA,OAAO,MAAMS,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5C,MAAM,CAACX,KAAK,EAAEY,QAAQ,CAAC,GAAGtB,UAAU,CAACS,WAAW,EAAEJ,YAAY,CAAC;EAE/D,oBACEF,OAAA,CAACC,WAAW,CAACmB,QAAQ;IAACC,KAAK,EAAE;MAAEd,KAAK;MAAEY;IAAS,CAAE;IAAAF,QAAA,EAC9CA;EAAQ;IAAAK,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACP,EAAA,CARWF,YAAY;AAAAU,EAAA,GAAZV,YAAY;AAUzB,OAAO,MAAMW,OAAO,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAM9B,UAAU,CAACG,WAAW,CAAC;AAAA;AAAC2B,GAAA,CAAxCD,OAAO;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}